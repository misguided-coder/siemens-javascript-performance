<!DOCTYPE html>
<html>
<head>
<script>
	
	var clock = null 
	var data = [];
	
	function buildDom() {
		var div0 = document.getElementById('div0');
		for(var idx=0;idx<1000;idx++) {
			var element = document.createElement('h1');
			element.innerHTML = "Node : "+idx;
			div0.appendChild(element);
			element = null;
		}
	}

	function doWork() {
		var string = new Array(500000).join("I am Cool and will eat up memory soon\n");
		data.push(string);
		buildDom()		
	}

	function startWork() {
		clock = setInterval(doWork,1000);
	}

	function stopWork() {
		clearInterval(clock);
		clock = null
		data = null
	}
</script>
</head>
<body>
	<button onclick='startWork();'>Hit Me and Bring Big Memory Leak</button>
	<button onclick='stopWork();'>Hit Me Too</button>
	
	<div id='div0'>
		I am cool
	</div>

</body>
</html>
